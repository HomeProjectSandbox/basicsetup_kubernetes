#apiVersion: discovery.k8s.io/v1
#kind: EndpointSlice
#metadata:
#  name: rpi4-service-temp # by convention, use the name of the Service
#                     # as a prefix for the name of the EndpointSlice
#  namespace: monitoring
#  labels:
#    # You should set the "kubernetes.io/service-name" label.
#    # Set its value to match the name of the Service
#    kubernetes.io/service-name: rpi4-service-temp
#    app: rpi4-temperature           # match ServiceMonitor selector
#    kubernetes.io/managed-by: manual  # Important for manual EndpointSlices
#addressType: IPv4
#ports:
#  - name: http # should match with the name of the service port defined above
#    appProtocol: http
#    protocol: TCP
#    port: 9101
#endpoints:
#  - addresses:
#      - "192.168.1.100"
#    conditions:
#      ready: true                   # âœ… required

apiVersion: v1
kind: Endpoints
metadata:
  name: rpi4-service-temp  # Must match Service name exactly
  namespace: {{ .Release.Namespace }}
subsets:
  - addresses:
      - ip: "192.168.1.100"
    ports:
      - name: http
        port: 9101
        protocol: TCP